extends _layout
block site-title
    | Home Page
block style
    link(rel="stylesheet" href="/static/css/user-home.css")
    
block container
        main(id="main")
            each post in posts
                div(class="post row col-sm-8 col-sm-offset-2")
                    header(class="row")
                        img(src=post.image alt="" class="user-image col-sm-6")
                        div.content
                            div(class="username")
                                a(href=`/users/${post.author}/profile`) #{post.author}
                                div.just-text to 
                                a(href=`/users/${post.targetUser}/profile`) #{post.targetUser}
                            div(class="post-content row col-sm-offset-1")
                                p.col-sm-11 #{post.content}
                    div(class="post-buttons row col-sm-12")
                        if post.isLiked
                            button(class="btn btn-primary like hidden col-sm-2" data-id=`${post._id}`) Like
                            button(class="btn btn-primary dislike col-sm-2" data-id=`${post._id}`) Dislike
                        else
                            button(class="btn btn-primary like col-sm-2" data-id=`${post._id}`) Like
                            button(class="btn btn-primary dislike hidden col-sm-2" data-id=`${post._id}`) Dislike
                        div.post-date(class="col-sm-5 col-sm-offset-1")
                            | Posted on #{post.postDate}
                        div.likes(class="col-sm-2 col-sm-offset-2") Likes: 
                            span(data-id=`${post._id}`) #{post.likes}
        script(src="/static/scripts/user-home.js")
            